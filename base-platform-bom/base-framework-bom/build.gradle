def artifactId = "base_framework_bom"
version = '0.0.6-SNAPSHOT'

def versions = [
        baseProcessor                   : '0.0.0.1-SNAPSHOT',
        baseCommonUtils                 : '1.0.8.33-SNAPSHOT',
        baseCommonMiddleware            : '1.0.6.18-SNAPSHOT',
        baseCommonDayu                  : '0.0.3.15-SNAPSHOT',
        baseCommonCache                 : '1.0.2.14-SNAPSHOT',
        baseDubboFramework              : '1.0.5.23-SNAPSHOT',
        baseSpringBootStarter           : '1.5.x.66-SNAPSHOT',
        baseSpringCloudFramework        : '1.5.x.54-SNAPSHOT',
        baseSpringCloudFramework_DIY    : '1.5.x.49-BASE-SNAPSHOT'
]

dependencyManagement {
    imports {
        mavenBom "cn.ly:base-platform-bom:${rootProject.version}"
    }
    dependencies {
        dependency "cn.mwee:mwee-async-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-base-mybatis-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-cache-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-dayu-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-endpoint-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-framework-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-fastjson-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-health-check-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-graceful-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-logger-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-mail-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-metric-activemq-spring-boot-starter:1.5.x.58-test003-SNAPSHOT"
        dependency "cn.mwee:mwee-metric-druid-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-metric-hikari-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-metric-httpclient-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-metric-redis-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-metric-retrofit-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-metric-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-metric-undertow-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-mongo-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-mq-lock-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-mq-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-mybatis-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-multi-shardingsphere-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-multi-mybatis-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-quartz-lock-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-quartz-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-redis-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-rest-template-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-retrofit-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-swagger-spring-boot-starter:${versions.baseSpringBootStarter}"
        dependency "cn.mwee:mwee-thread-pool-spring-boot-starter:${versions.baseSpringBootStarter}"

        dependency "cn.mwee:base_dubbo_framework:${versions.baseDubboFramework}"

        dependency "cn.mwee:base_spring_cloud_framework_DIY:${versions.baseSpringCloudFramework_DIY}"

        dependency "cn.mwee:base_spring_cloud_framework:${versions.baseSpringCloudFramework}"

        dependency "cn.mwee:base_common_dayu:${versions.baseCommonDayu}"

        dependency "cn.mwee:base_common_cache:${versions.baseCommonCache}"

        dependency "cn.mwee:base_common_middleware:${versions.baseCommonMiddleware}"

        dependency "cn.mwee:base_common_utils:${versions.baseCommonUtils}"

        dependency "cn.mwee:base_processor:${versions.baseProcessor}"
    }
    resolutionStrategy {
        cacheChangingModulesFor 0, 'seconds'
        cacheDynamicVersionsFor 0, 'seconds'
    }
}

ext {
    nexusUrl = version.endsWith("-SNAPSHOT") ?
            "http://127.0.0.1:8089/repository/fly-snapshots/" :
            "http://127.0.0.1:8089/repository/fly-releases/"
}

uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: nexusUrl) {
                authentication(userName: "fly", password: "fly123")
            }
            pom.version = "$project.version"
            pom.artifactId = "$artifactId"
            pom.groupId = "$project.group"
        }
    }
}